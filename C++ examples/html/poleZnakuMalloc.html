<h3>Pole znaků - malloc</h3>
<p>Vytvoření pole znaků a převod na string</p>
<p>Lze vytvořit i pole znaků přímo : const char* s = "Hello, const";</p>

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #557799">#include &lt;iostream&gt; </span>
    <span style="color: #557799">#include &lt;string&gt;</span>

    <span style="color: #008800; font-weight: bold">using</span> <span style="color: #008800; font-weight: bold">namespace</span> std;
    
    <span style="color: #333399; font-weight: bold">int</span> <span style="color: #0066BB; font-weight: bold">main</span>() {
    
        <span style="color: #333399; font-weight: bold">char</span><span style="color: #333333">*</span> CH;
        <span style="color: #333399; font-weight: bold">int</span> count <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>;
    
        CH <span style="color: #333333">=</span> (<span style="color: #333399; font-weight: bold">char</span><span style="color: #333333">*</span>)malloc(<span style="color: #008800; font-weight: bold">sizeof</span>(<span style="color: #333399; font-weight: bold">char</span>) <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">10</span>);
    
        CH[<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;H&#39;</span>;
        CH[<span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;e&#39;</span>;
        CH[<span style="color: #0000DD; font-weight: bold">2</span>] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;l&#39;</span>;
        CH[<span style="color: #0000DD; font-weight: bold">3</span>] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;l&#39;</span>;
        CH[<span style="color: #0000DD; font-weight: bold">4</span>] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;o&#39;</span>;
    
        <span style="color: #888888">//posledni znak musi byt NULL, jinak vyppisuje nesmysly</span>
        CH[<span style="color: #0000DD; font-weight: bold">5</span>] <span style="color: #333333">=</span> <span style="color: #007020">NULL</span>;
    
    
        <span style="color: #008800; font-weight: bold">for</span> (<span style="color: #333399; font-weight: bold">int</span> i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; i <span style="color: #333333">&lt;</span> <span style="color: #0000DD; font-weight: bold">10</span>; <span style="color: #333333">++</span>i) {
            printf(<span style="background-color: #fff0f0">&quot;%3c &quot;</span>, CH[i]);
            <span style="color: #008800; font-weight: bold">if</span> (i <span style="color: #333333">&gt;</span> <span style="color: #0000DD; font-weight: bold">5</span>) {
                printf(<span style="background-color: #fff0f0">&quot;     &lt;-- protoze jsme za znakem NULL&quot;</span>);
            }
            printf(<span style="background-color: #fff0f0">&quot;</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">&quot;</span>);
        }
    
        <span style="color: #888888">// Nasledne prekonverujeme pole znaku na string</span>
        std<span style="color: #333333">::</span>string CHstr(CH);
        cout <span style="color: #333333">&lt;&lt;</span> CHstr <span style="color: #333333">&lt;&lt;</span> <span style="background-color: #fff0f0">&quot;    &lt;-- konverze na string&quot;</span> <span style="color: #333333">&lt;&lt;</span> endl;
        cout <span style="color: #333333">&lt;&lt;</span> CHstr.size() <span style="color: #333333">&lt;&lt;</span> <span style="background-color: #fff0f0">&quot;        &lt;-- pocet znaku (do NULL)&quot;</span> <span style="color: #333333">&lt;&lt;</span> endl <span style="color: #333333">&lt;&lt;</span> endl;
    
    
        <span style="color: #888888">// Je i mozne definovat string jako pole znaku primo - musi byt const</span>
        <span style="color: #008800; font-weight: bold">const</span> <span style="color: #333399; font-weight: bold">char</span><span style="color: #333333">*</span> s <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&quot;Hello, const&quot;</span>;
        std<span style="color: #333333">::</span>string str(s);
    
        cout <span style="color: #333333">&lt;&lt;</span> str <span style="color: #333333">&lt;&lt;</span> <span style="background-color: #fff0f0">&quot;  &lt;-- konverze na string na primo&quot;</span> <span style="color: #333333">&lt;&lt;</span> endl;
        cout <span style="color: #333333">&lt;&lt;</span> str.size() <span style="color: #333333">&lt;&lt;</span> <span style="background-color: #fff0f0">&quot;            &lt;-- pocet znaku&quot;</span> <span style="color: #333333">&lt;&lt;</span> endl <span style="color: #333333">&lt;&lt;</span> endl;
    
    
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #0000DD; font-weight: bold">0</span>;
    }
    </pre></div>
    